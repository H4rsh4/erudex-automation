/// <reference types="Cypress" />
import DataEntry from '../../support/pageObjects/DataEntry'
const DEntry = new DataEntry()
const Dataentry = require('../../fixtures/DatEntry.json')
describe('My First Test Suite', function() 
{
    it('Signin', ()=>{
        cy.Signin(Dataentry.Username,
            Dataentry.Password);
     });
    it('Create Quiz Assessment ',function() {
        cy.intercept({
          pathname: "/ErudexWebService/rest/admin/curriculum/getCurriculumDetails"
        }).as('Curr-Data')
        cy.intercept({
              pathname: "/ErudexWebService/rest/userActivity/addPageActivity"
          }).as('PageActivityData')
        cy.intercept({
              pathname: "/ErudexWebService/rest/question/search"
          }).as('search')
        cy.intercept({
            pathname: "/ErudexWebService/rest/question/getSelectOptions"
        }).as('autoSelect')
        cy.intercept({
          pathname: "/ErudexWebService/rest/question/save"
        }).as('Save')
        DEntry.getCreateAssessment()
          .click({force: true})
        DEntry.getNameAssessment()
          .type(Dataentry.Quiz)
        DEntry.getType1()
          .contains(Dataentry.Testtype)
        DEntry.getCurriculam()
          .contains(Dataentry.Curriculum)
        DEntry.getGrade()
          .contains(Dataentry.Class)
        DEntry.getSubject()
          .contains(Dataentry.Subject)
        cy.wait('@Curr-Data')
        DEntry.getLevel()
          .contains(Dataentry.Level)
        DEntry.getDuration()
          .clear()
        DEntry.getDuration()
          .type(Dataentry.Duration)
        DEntry.getMarks()
          .clear()
        DEntry.getMarks()
          .type(Dataentry.Marks)
        DEntry.getChapterQuiz()
          .contains(Dataentry.QzChapter)
        cy.wait('@Curr-Data')
        DEntry.getQuizTopic()
          .contains(Dataentry.QzTopic)
        cy.wait('@Curr-Data')
        DEntry.getQuizSubTopic()
          .contains(Dataentry.QzSubTopic)
        DEntry.getSelectquestions()
          .click()
        cy.wait('@search')
        DEntry.getChapter()
          .contains(Dataentry.Chapter)
        Cypress.on('uncaught:exception', (err, runnable) => {
            return false
          })
        DEntry.getTopic()
          .contains(Dataentry.Topic)
        cy.wait('@search')  
        DEntry.getDifficulty()
          .contains(Dataentry.Level)
          DEntry.getQstntype()
          .contains(Dataentry.QstType)
        // DEntry.getSkillType()
        //     .contains(Dataentry.Skill)
        DEntry.getPastexam()
            .contains(Dataentry.pastExm)
        DEntry.getExamyear()
            .contains(Dataentry.Year)
        // DEntry.getQstntype()
        //     .contains(Dataentry.QstType)
        DEntry.getDescription()
          .type(Dataentry.content)
        DEntry.getConcept()
          .type(Dataentry.content)
        DEntry.getAddquestion1()
          .click({ force: true })
        DEntry.getAddquestion2()
          .click({ force: true })
        DEntry.getAddquestion3()
          .click({ force: true })
        DEntry.getAddquestion4()
          .click({ force: true })
        DEntry.getAddquestion5()
          .click({ force: true })
        DEntry.getOK()
          .click({force:true})
        cy.wait(2500)
        DEntry.getDeleteqstn()
          .click()
        DEntry.getSuccess()
          .click()
        DEntry.getAddNew()
          .click()
        cy.wait('@autoSelect')
    })
    it('Add MCQ Questions ',function() {
        cy.intercept({
          pathname: "/ErudexWebService/rest/admin/curriculum/getCurriculumDetails"
        }).as('Curr-Data')
        cy.intercept({
          pathname: "/ErudexWebService/rest/question/save"
        }).as('Save')
        // DEntry.getAddCurriculam()
        //   .contains(Dataentry.Curriculum)
        DEntry.getAddGrade()
          .contains(Dataentry.Class)
        DEntry.getAddSubject()
          .contains(Dataentry.Subject)
        cy.wait('@Curr-Data')
        DEntry.getAddChapter()
          .contains(Dataentry.Chapter)
        DEntry.getAddTopic()
          .contains(Dataentry.Topic)
        DEntry.getAddDifficulty()
          .contains(Dataentry.Level)
        DEntry.getAddSkillType()
          .contains(Dataentry.Skill)
        DEntry.getQstntypeAdd1()
          .contains(Dataentry.QstType)
          Cypress.on('uncaught:exception', (err, runnable) => {
               return false
            })
        DEntry.getqstnDescription()
          .clear()    
        DEntry.getqstnDescription()
          .type(Dataentry.discript)  
        DEntry.getMCQDescrip1()
          .type(Dataentry.MCQDescrip)
        DEntry.getMCQDescrip2()
          .type(Dataentry.MCQDescrip)
        DEntry.getMCQDescrip3()
          .type(Dataentry.MCQDescrip)
        DEntry.getMCQDescrip4()
          .type(Dataentry.MCQDescrip)
        DEntry.getRadio()
          .check(Dataentry.RadioAns)  
        DEntry.getPreview()
          .click()
        DEntry.getClose()
          .click()
        DEntry.getSave()
          .click()
        cy.wait('@Save')
        DEntry.getCLOSE()
          .click()
        DEntry.getSaving()
          .click()    
    })
    it('Logout', ()=>{
      cy.Logout()
    })
})