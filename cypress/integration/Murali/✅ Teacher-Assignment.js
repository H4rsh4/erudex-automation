/*
Author: Murali
*/
/// <reference types="Cypress" />
import Assignment from '../../support/pageObjects/Assignment'
const assignment = new Assignment()
const assign = require('../../fixtures/Murali/Assignment.json')
describe('My First Test Suite', function() 
{
    it('Signin', ()=>{
        cy.Signin(assign.TeacherUserName,
            assign.TeacherPassword);
     }); 
it('Create Assignment',function() {
    cy.Curriculum()
    assignment.getCreateAssignment()
        .click({force: true})
    assignment.getName()
        .type(assign.name)
    assignment.getClass()
        .contains(assign.Class)
    assignment.getSubject()
        .contains(assign.Subject)
    assignment.getChapter()
        .contains(assign.Chapter)
    cy.wait(2000)    
    assignment.getSubjectTopics()
        .contains(assign.Topic)
            .click({force: true})
    cy.wait(2000)        
    assignment.getSubjectTopics()
        .contains(assign.SubTopic)
            .click({force: true})
    assignment.getMarks()
        .contains(assign.Marks)
    assignment.getDescription()
        .type(assign.Description)
    assignment.getCreateAssignPush()
        .click({force: true})
    assignment.getCheckbox()
        .check()
            .should('be.checked')
    assignment.getStartCalender()
        .click()
    assignment.getDateandTime()
        .contains(assign.pushDate)
            .click()
    assignment.getCalenderHour()
        .contains(assign.pushHour1)
            .click()
    assignment.getCalenderMinute()
        .contains(assign.pushMin1)
            .click()
    assignment.getEndCalender()
        .click()
    assignment.getDateandTime1()
        .contains(assign.pushDate)
            .click()
    assignment.getCalenderHour1()
        .contains(assign.pushHour2)
            .click()
    assignment.getCalenderMinute1()
        .contains(assign.pushMin2)
            .click()
    assignment.getCancel()
        .click()     
})
it('View Assignment',function() {
    assignment.getViewAssignment()
        .click({force: true})
    assignment.getClass()
        .contains(assign.Class)
    assignment.getSubject()
        .contains(assign.Subject)
    assignment.getChapter()
        .contains(assign.Chapter)
    assignment.getSelectDate()
        .contains(assign.CreatedDate)
    assignment.getCalender1()
        .click()
    assignment.getDate()
        .contains(assign.Date1).click()    
    assignment.getCalender2()
        .click()
    assignment.getDate()
        .contains(assign.Date2).click()
    assignment.getPushedButton()
        .click()
    assignment.getAssignmentPushedTable().each(($e1,index,$list)=>{
        const text = $e1.text()
        if(text.includes("Mathematics"))
        {
            $e1.click()
        }
    })
    assignment.getBack()
        .click()
    cy.Logout()
})
})