/// <reference types="Cypress" />
import Teacherobj from '../../support/pageObjects/Teacherobj'
describe('My First Test Suite', function() 
{
    beforeEach(function() {
        cy.fixture('ConstVarbl').then(function(data) {
                this.data=data  })
      })

    it('Login ',function() {    
        const TeacherOBJ = new Teacherobj()
        cy.visit(this.data.URL)
        // login
        TeacherOBJ.getusername().type(this.data.TeacherUserName)
        TeacherOBJ.getpassword().type(this.data.TeacherPassword)
        TeacherOBJ.getSignin().click({multiple: true})
        TeacherOBJ.getSuccess().click()        
        
    })
it('Create Assignment',function() {
    const TeacherOBJ = new Teacherobj()
    TeacherOBJ.getCurriculam().click()
    cy.wait(1000)
    TeacherOBJ.getCreateAssignment().click({force: true})
    cy.wait(2000)
    TeacherOBJ.getName().type(this.data.name)
    cy.wait(2000)
    TeacherOBJ.getClass().contains(this.data.Class)
    cy.wait(2000)
    TeacherOBJ.getSubject().contains(this.data.Subject)
    cy.wait(2000)
    TeacherOBJ.getSubChapter().contains(this.data.Chapter)
    cy.wait(2000)
    TeacherOBJ.getSubjectTopics().contains(this.data.Topic).click({force: true})
    cy.wait(2000)
    TeacherOBJ.getSubjectTopics().contains(this.data.SubTopic).click({force: true})
    cy.wait(2000)
    TeacherOBJ.getMarks().contains(this.data.Marks)
    cy.wait(2000)
    TeacherOBJ.getAssignmentDescription().type(this.data.Description)
    //cy.wait(2000)
    cy.wait(3000)
    TeacherOBJ.getCreateActivtyPush().click({force: true})
    cy.wait(2000)
    TeacherOBJ.getCheckbox().check().should('be.checked')
    cy.wait(2000)
    //cy.get('.fa-chevron-right').click()
    //cy.get('[ng-click="cancelPush()"]').click()
    TeacherOBJ.getPushCalender1().click()
    TeacherOBJ.getDateandTime().contains(this.data.pushDate).click()
    TeacherOBJ.getCalenderHour().contains(this.data.pushHour1).click()
    TeacherOBJ.getCalenderMinute().contains(this.data.pushMin1).click()

    TeacherOBJ.getPushCalender2().click()
    TeacherOBJ.getDateandTime1().contains(this.data.pushDate).click()
    TeacherOBJ.getCalenderHour1().contains(this.data.pushHour2).click()
    TeacherOBJ.getCalenderMinute1().contains(this.data.pushMin2).click()
    TeacherOBJ.getCancel().click()     
})
it('View Assignment',function() {
    const TeacherOBJ = new Teacherobj()
    TeacherOBJ.getViewAssignment().click({force: true})
    cy.wait(2000)
    TeacherOBJ.getClass().contains(this.data.Class)
    cy.wait(2000)
    TeacherOBJ.getSubject().contains(this.data.Subject)
    cy.wait(2000)
    TeacherOBJ.getSubChapter().contains(this.data.Chapter)
    cy.wait(2000)
    TeacherOBJ.getdropdwnCreatedDate().contains(this.data.CreatedDate)
    cy.wait(2000)
    TeacherOBJ.getCalender1().click()
    cy.wait(2000)
    TeacherOBJ.getDate().contains(this.data.Date1).click()
    cy.wait(2000)    
    TeacherOBJ.getCalender2().click()
    cy.wait(2000)
    TeacherOBJ.getDate().contains(this.data.Date2).click()
    cy.wait(2000)
    TeacherOBJ.getPushedTabButton().click()
    cy.wait(2000)
    TeacherOBJ.getAssignmentPushedTable().each(($e1,index,$list)=>{
        const text = $e1.text()
        if(text.includes("Mathematics"))
        {
            $e1.click()
        }
    })
    cy.wait(2000)
    TeacherOBJ.getBack().click()
    TeacherOBJ.getLogOut().click()
})

})