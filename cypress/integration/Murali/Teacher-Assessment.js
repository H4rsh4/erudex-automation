/// <reference types="Cypress" />
import Teacherobj from '../../support/pageObjects/Teacherobj'
import TeacherAssess from '../../support/pageObjects/TeacherAssess'

describe('My First Test Suite', function() 
{
    beforeEach(function() {
        cy.fixture('Assessment').then(function(data) {
                this.data=data  })
      })

    it('Login ',function() {   
        const TeacherOBJ = new Teacherobj() 
        cy.visit(this.data.URL)
        // login
        TeacherOBJ.getusername().type(this.data.TeacherUserName)
        TeacherOBJ.getpassword().type(this.data.TeacherPassword)
        TeacherOBJ.getSignin().click({multiple: true})
        TeacherOBJ.getSuccess().click()        
        
    }) 

    it('Create Assessment Use Pre-Mode',function() {
        const TeacherOBJ = new Teacherobj()
        const TeacherAssessment = new TeacherAssess()
        TeacherOBJ.getCurriculam().click()
        cy.wait(1000)
        TeacherAssessment.getCreateAssessment().click({force: true})
        cy.wait(2000)
        TeacherAssessment.getAssessmentName().type(this.data.name)
        cy.wait(2000)
        TeacherAssessment.getAssessLanguage().contains(this.data.Language)
        cy.wait(2000)
        TeacherAssessment.getAssessClass().contains(this.data.Class)
        cy.wait(2000)
        TeacherAssessment.getAssessSubj().contains(this.data.Subject)
        cy.wait(2000)
        TeacherAssessment.getAssessDifficulty().contains(this.data.Difficulty)
        cy.wait(2000)
        TeacherAssessment.getAssessTime().contains(this.data.Duration)
        cy.wait(2000) 
        TeacherAssessment.getAssessMarks().contains(this.data.Marks)
        cy.wait(2000)
        cy.contains(this.data.usepremode).click()
        cy.wait(2000)
        TeacherAssessment.getName().type(this.data.name)
        cy.wait(2000)
        TeacherAssessment.getAssessLevel().contains(this.data.Level)
        cy.wait(2000)
        TeacherAssessment.getAssessOwner().contains(this.data.Owner)
        cy.wait(2000)
        /*TeacherAssessment.getAssessDate().contains('Created Date')
        cy.wait(2000)
        TeacherOBJ.getCalender1().click()
        cy.wait(2000)
        TeacherOBJ.getDate().contains('13').click()
        cy.wait(2000)    
        TeacherOBJ.getCalender2().click()
        cy.wait(2000)
        TeacherOBJ.getDate().contains('15').click()
        cy.wait(2000)*/
        TeacherAssessment.getSelectButton().click({force:true})
        cy.wait(2000)
        TeacherAssessment.getCreateNdPush().click({force: true})
        cy.wait(2000)
        TeacherOBJ.getCheckbox().check().should('be.checked')
        cy.wait(2000)
        TeacherOBJ.getPushCalender1().click()
        TeacherOBJ.getDateandTime().contains(this.data.pushDate).click()
        TeacherOBJ.getCalenderHour().contains(this.data.pushHour1).click()
        TeacherOBJ.getCalenderMinute().contains(this.data.pushMin1).click()

        TeacherOBJ.getPushCalender2().click()
        TeacherOBJ.getDateandTime1().contains(this.data.pushDate).click()
        TeacherOBJ.getCalenderHour1().contains(this.data.pushHour2).click()
        TeacherOBJ.getCalenderMinute1().contains(this.data.pushMin2).click()
        TeacherOBJ.getCancel().click()
    })

    it('Create Assessment Select Questions',function() {
        const TeacherOBJ = new Teacherobj()
        const TeacherAssessment = new TeacherAssess()
        cy.wait(2000)
        TeacherAssessment.getAssessmentName().type(this.data.name)
        cy.wait(2000)
        TeacherAssessment.getAssessLanguage().contains(this.data.Language)
        cy.wait(2000)
        TeacherAssessment.getAssessClass().contains(this.data.Class)
        cy.wait(2000)
        TeacherAssessment.getAssessSubj().contains(this.data.Subject)
        cy.wait(2000)
        TeacherAssessment.getAssessDifficulty().contains(this.data.Difficulty)
        cy.wait(2000)
        TeacherAssessment.getAssessTime().contains(this.data.Duration)
        cy.wait(2000) 
        TeacherAssessment.getAssessMarks().contains(this.data.Marks)
        cy.wait(2000)
        cy.contains(this.data.Selectquestions).click()
        TeacherAssessment.getChapter().contains(this.data.chapter1)
        cy.wait(3000)
        TeacherAssessment.getTopic().contains(this.data.topic)
        cy.wait(3000)
        TeacherAssessment.getDifficulty().contains(this.data.difficulty)
        cy.wait(3000)
        TeacherAssessment.getSkillType().contains(this.data.Skill)
        cy.wait(3000)
        TeacherAssessment.getPastExam().contains(this.data.exam)
        cy.wait(3000)
        TeacherAssessment.getExamYear().contains(this.data.year)
        cy.wait(3000)
        TeacherAssessment.getquestiontype().contains(this.data.typeqstn)
        cy.wait(3000)
        TeacherAssessment.getDescription().type(this.data.Description)
        cy.wait(3000)
        TeacherAssessment.getConcepttype().type(this.data.concept)
        cy.wait(3000)
        TeacherAssessment.getAddquestion().click({ force: true })
        cy.wait(3000)
        TeacherAssessment.getviewqustn().click({force:true})
        cy.wait(3000)
        TeacherOBJ.getcloseDialog().click()
        cy.wait(2000)
        TeacherAssessment.getAddquestion2().click({ force: true })
        cy.wait(2000)
        TeacherAssessment.getAddquestion3().click({ force: true })
        cy.wait(2000)
        TeacherAssessment.getOkay().click({force: true})
        cy.wait(3000)
        TeacherOBJ.getCreateandPush().click({force: true})
        cy.wait(2000)
        TeacherOBJ.getCheckbox().check().should('be.checked')
        cy.wait(2000)
        TeacherOBJ.getPushCalender1().click()
        TeacherOBJ.getDateandTime().contains(this.data.pushDate).click()
        TeacherOBJ.getCalenderHour().contains(this.data.pushHour1).click()
        TeacherOBJ.getCalenderMinute().contains(this.data.pushMin1).click()

        TeacherOBJ.getPushCalender2().click()
        TeacherOBJ.getDateandTime1().contains(this.data.pushDate).click()
        TeacherOBJ.getCalenderHour1().contains(this.data.pushHour2).click()
        TeacherOBJ.getCalenderMinute1().contains(this.data.pushMin2).click()
        TeacherOBJ.getCancel().click()
    })    
    
    it('Create Assessment Auto Select Questions',function() {
        const TeacherOBJ = new Teacherobj()
        const TeacherAssessment = new TeacherAssess()
        TeacherAssessment.getAssessmentName().type(this.data.name)
        cy.wait(2000)
        TeacherAssessment.getAssessLanguage().contains(this.data.Language)
        cy.wait(2000)
        TeacherAssessment.getAssessClass().contains(this.data.Class)
        cy.wait(2000)
        TeacherAssessment.getAssessSubj().contains(this.data.Subject)
        cy.wait(2000)
        TeacherAssessment.getAssessDifficulty().contains(this.data.Difficulty)
        cy.wait(2000)
        TeacherAssessment.getAssessTime().contains(this.data.Duration)
        cy.wait(2000) 
        TeacherAssessment.getAssessMarks().contains(this.data.Marks)
        cy.wait(2000)
        cy.contains(this.data.AutoSelectquestions).click()
        cy.wait(2000)
        TeacherAssessment.getquestions().contains(this.data.questions)
        cy.wait(2000)
        TeacherAssessment.getAutoselectChapter1().contains(this.data.selectChpter).click()
        cy.wait(2000)
        TeacherAssessment.getAutoselectChapter2().contains(this.data.selectChpter1).click()
        cy.wait(2000)
        TeacherAssessment.getAutoquestions().click()
        cy.wait(2000)
        TeacherAssessment.getCreateNdPush().click({force: true})
        cy.wait(2000)
        TeacherOBJ.getCheckbox().check().should('be.checked')
        cy.wait(2000)
        TeacherOBJ.getPushCalender1().click()
        TeacherOBJ.getDateandTime().contains(this.data.pushDate).click()
        TeacherOBJ.getCalenderHour().contains(this.data.pushHour1).click()
        TeacherOBJ.getCalenderMinute().contains(this.data.pushMin1).click()

        TeacherOBJ.getPushCalender2().click()
        TeacherOBJ.getDateandTime1().contains(this.data.pushDate).click()
        TeacherOBJ.getCalenderHour1().contains(this.data.pushHour2).click()
        TeacherOBJ.getCalenderMinute1().contains(this.data.pushMin2).click()
        TeacherOBJ.getCancel().click()
    })
    it('View Assessments',function(){
        const TeacherOBJ = new Teacherobj()
        const TeacherAssessment = new TeacherAssess()
        cy.wait(1000)
        TeacherAssessment.getViewAssess().click({force: true})
        cy.wait(2000)
        TeacherAssessment.getViewAssessCls().contains(this.data.Class)
        cy.wait(2000)
        TeacherAssessment.getViewAssessSubj().contains(this.data.subject)
        cy.wait(2000)
        TeacherAssessment.getViewAssessChapter().contains(this.data.chapter)
        cy.wait(2000)
        TeacherAssessment.getViewAssessDate().contains(this.data.CreatedDate)
        cy.wait(2000)
        TeacherOBJ.getCalender1().click()
        cy.wait(2000)
        TeacherOBJ.getDate().contains(this.data.Date1).click()
        cy.wait(2000)    
        TeacherOBJ.getCalender2().click()
        cy.wait(2000)
        TeacherOBJ.getDate().contains(this.data.Date2).click()
        cy.wait(2000)
        TeacherAssessment.getAssessPushed().click()
        cy.wait(2000)
        TeacherAssessment.getPushedContent().each(($e1,index,$list)=>{
            const text = $e1.text()
            if(text.includes("English"))
            {
                $e1.click()
            }
        })
        cy.wait(2000)
        TeacherOBJ.getBack().click()
        
        TeacherOBJ.getLogOut().click()
    
    })    
})