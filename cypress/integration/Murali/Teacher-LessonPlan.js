/*
Author: Murali
*/
/// <reference types="Cypress" />
import Teacherobj from '../../support/pageObjects/Teacherobj'
const TeacherOBJ = new Teacherobj()
const Constvarbl = require('../../fixtures/ConstVarbl.json')
describe('My First Test Suite', function() 
{
    it('Signin', ()=>{
        cy.Signin(Constvarbl.TeacherUserName,
            Constvarbl.TeacherPassword);
     }); 
    it('Create Lesson Plan',function() {  
        TeacherOBJ.getCurriculam()
            .click()
        TeacherOBJ.getCreateLesson()
            .click({force: true})
        TeacherOBJ.getLessonLang()
            .contains(Constvarbl.Language)
        TeacherOBJ.getLessonClass()
            .contains(Constvarbl.Class)
        TeacherOBJ.getLessonSubj()
            .contains(Constvarbl.Subject1)
        TeacherOBJ.getLessonChapter()
            .contains(Constvarbl.Chapter1)
        cy.wait(2000)    
        TeacherOBJ.getLessonTopic()
            .contains(Constvarbl.Topic1)
                .click({force: true})
        cy.contains(Constvarbl.Lessonplan)
            .click()
        TeacherOBJ.getCalender1()
            .click()
        TeacherOBJ.getDate()
            .contains(Constvarbl.Date1)
                .click()
        TeacherOBJ.getCalender2()
            .click()
        TeacherOBJ.getDate()
            .contains(Constvarbl.Date2)
                .click()
        cy.contains('Resources')
            .click({force: true})
        cy.contains('Prior Knowledge')
            .click({force: true})
        cy.contains('Introduction')
            .click({force: true})
        TeacherOBJ.getEditNotes()
            .click()
        TeacherOBJ.getcancelDialog()
            .click()
        cy.contains(Constvarbl.AddRemove)
            .click()
        TeacherOBJ.getAddMultimeddia()
            .click()
        cy.contains('Chapter 4')
            .click()
        TeacherOBJ.getcloseDialog()
            .click({force: true})
        TeacherOBJ.getExternalLink()
            .click()
        TeacherOBJ.getLinkname()
            .type(Constvarbl.Organisation)
        TeacherOBJ.getURL()
            .type(Constvarbl.URL)
        TeacherOBJ.getcloseDialog()
            .click({force: true})
        TeacherOBJ.getcancelDialog()
            .click({force: true})
        TeacherOBJ.getCreateLessonPlan()
            .click()
    })
    it('View Lesson Plan',function() {
        TeacherOBJ.getViewLesson()
            .click({force: true})
        TeacherOBJ.getViewClass()
            .contains(Constvarbl.Class)
        TeacherOBJ.getViewsubject()
            .contains(Constvarbl.Subject1)
        TeacherOBJ.getViewchapter()
            .contains(Constvarbl.chapter1)
        TeacherOBJ.getViewdate()
            .contains(Constvarbl.StartDate)
        TeacherOBJ.getCalender1()
            .click()
        TeacherOBJ.getDate()
            .contains(Constvarbl.Date1).click()
        TeacherOBJ.getCalender2()
            .click()
        TeacherOBJ.getDate()
            .contains(Constvarbl.Date2)
                .click()
        cy.get('tr td:nth-child(2)').each(($e1,index,$list)=>{
            const text = $e1.text()
            if(text.includes("English"))
            {
                $e1.click()
            }
        })
        cy.contains('Lesson Delivery')
            .click({force: true})
        cy.contains('Lesson Closure')
            .click({force: true})
        cy.contains('Learning Objectives')
            .click({force: true})
        TeacherOBJ.getEditLesson()
            .click()
        TeacherOBJ.getViewBack()
            .click()
        TeacherOBJ.getViewBack()
            .click()
        cy.Logout()
    })    
})    